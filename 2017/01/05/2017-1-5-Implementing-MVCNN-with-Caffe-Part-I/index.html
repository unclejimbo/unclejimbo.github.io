<!doctype html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Computer Graphics,Computer Vision,Deep Learning," />





  <link rel="alternate" href="/atom.xml" title="unclejimbo's site" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="IntroductionThis post is about a paper published in ICCV2015, called “Multi-view Convolutional Neural Networks for 3D Shape Recognition”. It describes a method to classify 3d shape models using 2d ima">
<meta property="og:type" content="article">
<meta property="og:title" content="Implementing MVCNN with Caffe, Part I">
<meta property="og:url" content="https://unclejimbo.github.io/2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/index.html">
<meta property="og:site_name" content="unclejimbo's site">
<meta property="og:description" content="IntroductionThis post is about a paper published in ICCV2015, called “Multi-view Convolutional Neural Networks for 3D Shape Recognition”. It describes a method to classify 3d shape models using 2d ima">
<meta property="og:image" content="https://camo.githubusercontent.com/f505454fa4d971db8b85b35ad7cac63795d3eaa0/687474703a2f2f7669732d7777772e63732e756d6173732e6564752f6d76636e6e2f696d616765732f6d76636e6e2e706e67">
<meta property="og:updated_time" content="2017-01-05T08:35:19.601Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Implementing MVCNN with Caffe, Part I">
<meta name="twitter:description" content="IntroductionThis post is about a paper published in ICCV2015, called “Multi-view Convolutional Neural Networks for 3D Shape Recognition”. It describes a method to classify 3d shape models using 2d ima">
<meta name="twitter:image" content="https://camo.githubusercontent.com/f505454fa4d971db8b85b35ad7cac63795d3eaa0/687474703a2f2f7669732d7777772e63732e756d6173732e6564752f6d76636e6e2f696d616765732f6d76636e6e2e706e67">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://unclejimbo.github.io/2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/"/>





  <title> Implementing MVCNN with Caffe, Part I | unclejimbo's site </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">unclejimbo's site</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://unclejimbo.github.io/2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="unclejimbo (王少东)">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/me.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="unclejimbo's site">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="unclejimbo's site" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Implementing MVCNN with Caffe, Part I
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-05T00:00:00+00:00">
                2017-01-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Vision/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Vision</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This post is about a paper published in ICCV2015, called <a href="http://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Su_Multi-View_Convolutional_Neural_ICCV_2015_paper.pdf" target="_blank" rel="external">“Multi-view Convolutional Neural Networks for 3D Shape Recognition”</a>. It describes a method to classify 3d shape models using 2d image classification networks. While the authors have open-sourced their matlab implementation on <a href="https://github.com/suhangpro/mvcnn" target="_blank" rel="external">GitHub</a>, here I’ll try to implement this network with Caffe.</p>
<p>In the first half of this two-part blog, I’ll quickly explain the core idea of this paper. After that I’ll try to implement a naive version of this network. While in part II I’ll go through the details on implementing MVCNN as the paper describes.</p>
<p>The complete codes and scripts in this blog can be found at my <a href="https://github.com/unclejimbo/mvcnn-caffe" target="_blank" rel="external">GitHub repo</a>.</p>
<p><img src="https://camo.githubusercontent.com/f505454fa4d971db8b85b35ad7cac63795d3eaa0/687474703a2f2f7669732d7777772e63732e756d6173732e6564752f6d76636e6e2f696d616765732f6d76636e6e2e706e67" alt=""><br>(<em>The network architecture of MVCNN</em>)</p>
<a id="more"></a>
<h1 id="The-Power-of-Multi-View"><a href="#The-Power-of-Multi-View" class="headerlink" title="The Power of Multi-View"></a>The Power of Multi-View</h1><p>Traditional 3d shape recognition algorithms are generally based on heuristic descriptors such as Spherical Harmonics. More recent advances like ShapeNets tried to voxelize the model and train a deep neural network. On the other hand, MVCNN tries to leverage the power of image classification CNNs, because public image datasets such as ImageNet is much larger than 3d model datasets and state-of-the-art networks on ilsvrc have achieved pretty high precision on classification tasks.</p>
<p>So how about rendering a 3d shape model under different viewpoints and training a 2d CNN with rendered images? Then you can input the rendered views of an unknown model and try to decide its category. This is exactly what we’ll implement in this post. We’ll use multiple rendered images as input and simply do a majority vote to decide the final label for the model.</p>
<p>However, the MVCNN is a bit more complicated in the way it combines multi-view representations. The authors train each view with a different network and introduce a view-pooling layer to combine multiple networks into one, as can be seen on the figure above. View-pooling at its core is simply max-pooling, extracting the largest value at each pixel among all views. More on this topic next time, but let’s first go ahead and implement the simple one :).</p>
<h1 id="Training-MVCNN-Directly-without-View-Pooling"><a href="#Training-MVCNN-Directly-without-View-Pooling" class="headerlink" title="Training MVCNN Directly without View Pooling"></a>Training MVCNN Directly without View Pooling</h1><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><ul>
<li>Caffe :white_check_mark:</li>
<li>Python2.7(Anaconda2) :white_check_mark:</li>
<li>Scikit-Image :white_check_mark:</li>
</ul>
<h2 id="Data-Preparation"><a href="#Data-Preparation" class="headerlink" title="Data Preparation"></a>Data Preparation</h2><p>You can download the rendered images in their <a href="https://github.com/suhangpro/mvcnn" target="_blank" rel="external">repository</a>. Here I’ll use the modelnet40v2 dataset. On the other hand, you can directly download the models from <a href="http://modelnet.cs.princeton.edu/#" target="_blank" rel="external">Princeton ModelNet</a> and render by yourself if you want better rendering qualities. Although the authors have argued that rendering method is irrelevant with classification precisions.</p>
<p>Please follow the steps described <a href="https://github.com/unclejimbo/mvcnn-caffe/tree/master/modelnet40v2" target="_blank" rel="external">here</a> to preprocess the dataset. Basically all it does is to first pad all images into 256x256, and split a validation set out of training set with ratio 1:9. Then we prepare label text files and compile images into leveldb files to feed into the network. You can sample the inputs if you think the full dataset is too large. I use leveldb rather than lmdb because lmdb seems to have bug with large amount data. If you’re not familiar with this procedure, please check out this <a href="http://caffe.berkeleyvision.org/gathered/examples/imagenet.html" target="_blank" rel="external">tutorial</a>.</p>
<h2 id="Network-Setup"><a href="#Network-Setup" class="headerlink" title="Network Setup"></a>Network Setup</h2><p>Here we’ll try to fine-tune the bvlc-reference-caffenet that caffe provides. The method is pretty much the same as the official <a href="http://caffe.berkeleyvision.org/gathered/examples/finetune_flickr_style.html" target="_blank" rel="external">tutorial on fine-tuning flickr style data</a>. There are a few things to note. First, because we are using the 40 class version of modelnet so the output of this network should be 40. And I’ve fixed the learning rate for all conv layers. Moreover, the latest fc layer’s learning rate is set 5 times higher. Check the prototxt in my <a href="https://github.com/unclejimbo/mvcnn-caffe" target="_blank" rel="external">repo</a> for details.</p>
<h2 id="Go-Ahead-and-Training"><a href="#Go-Ahead-and-Training" class="headerlink" title="Go Ahead and Training"></a>Go Ahead and Training</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">caffe train -solver ./mvcnn_caffenet_simple/solver.prototxt -weights your_caffe_root/models/bvlc_reference_caffenet/bvlc_reference_caffenet.caffemodel -gpu 0</div></pre></td></tr></table></figure>
<p>I’ve tried several parameter setups and the best could give around 72.5% test accuracy. Go play with the parameters by yourself.</p>
<h2 id="Use-Majority-Vote-to-Classify-a-3D-Model"><a href="#Use-Majority-Vote-to-Classify-a-3D-Model" class="headerlink" title="Use Majority Vote to Classify a 3D Model"></a>Use Majority Vote to Classify a 3D Model</h2><p>We’ll now use 80 views as input and take the majority of the predictions as label for this model. The file <a href="https://github.com/unclejimbo/mvcnn-caffe/blob/master/classify_model_simple.py" target="_blank" rel="external">classify_model_simple.py</a> contains the source code for this method:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line">import caffe</div><div class="line">import os</div><div class="line">import sys</div><div class="line">import re</div><div class="line">import numpy as np</div><div class="line"></div><div class="line">n_views = 80 # change this if you are not using 80 views per model&quot;</div><div class="line">n_classes = 40 # change this if you are not using 40 class dataset</div><div class="line">model = &quot;./mvcnn_caffenet_simple/deploy.prototxt&quot; # change this to your model defiintion</div><div class="line">weights = &quot;./mvcnn_caffenet_simple/caffenet_train_iter_15000.caffemodel&quot; # change this to your trained model</div><div class="line">mean_file = &quot;./modelnet40v2/mean.binaryproto&quot; # change this to your mean file</div><div class="line">label_name_file = &quot;./modelnet40v2/label_name.txt&quot; # change this to your label_name file</div><div class="line"></div><div class="line">def predict(images, net, transformer):</div><div class="line">    if (len(images) != n_views):</div><div class="line">        sys.exit(&quot;Error: expecting &quot;, n_views, &quot; images in a batch&quot;)</div><div class="line"></div><div class="line">    votes = np.zeros(n_views)</div><div class="line">    for img in images:</div><div class="line">        net.blobs[&apos;data&apos;].data[...] = transformer.preprocess(&apos;data&apos;, img)</div><div class="line">        net.forward()</div><div class="line">        scores = net.blobs[&apos;prob&apos;].data[0].flatten()</div><div class="line">        prediction = np.argmax(scores)</div><div class="line">        votes[prediction] += 1</div><div class="line">    return np.argmax(votes)</div><div class="line"></div><div class="line">if __name__ == &apos;__main__&apos;:</div><div class="line">    if (len(sys.argv) != 2):</div><div class="line">        sys.exit(&quot;Usage: python classify_model_simple.py /path/to/image_directory/&quot;)</div><div class="line"></div><div class="line">    files = os.listdir(sys.argv[1])</div><div class="line">    if (len(files) % n_views != 0):</div><div class="line">        sys.exit(&quot;Error: num of input images should be divisible by &quot; + str(n_views))</div><div class="line"></div><div class="line">    # Import label-name correspondence</div><div class="line">    label_name = &#123;&#125;</div><div class="line">    with open(label_name_file) as f:</div><div class="line">        for line in f:</div><div class="line">            (label, name) = line.split()</div><div class="line">            label_name[int(label)] = name</div><div class="line"></div><div class="line">    # Net</div><div class="line">    net = caffe.Net(model, weights, caffe.TEST)</div><div class="line"></div><div class="line">    # Convert image mean</div><div class="line">    mean_blob = caffe.proto.caffe_pb2.BlobProto()</div><div class="line">    mean_bin = open(mean_file, &apos;rb&apos;).read()</div><div class="line">    mean_blob.ParseFromString(mean_bin)</div><div class="line">    mean = np.array(caffe.io.blobproto_to_array(mean_blob))</div><div class="line">    # have to manually slice mean size because caffe assume mean size to be the same as input dims,</div><div class="line">    # during training both mean and image sizes could automatically get cropped to network input dims,</div><div class="line">    # however when testing only image size could be cropped automatically by deployment input layer</div><div class="line">    mean = mean[0, :, 14:-15, 14:-15]</div><div class="line"></div><div class="line">    # Transform data</div><div class="line">    transformer = caffe.io.Transformer(&#123;&apos;data&apos;: net.blobs[&apos;data&apos;].data.shape&#125;)</div><div class="line">    transformer.set_transpose(&apos;data&apos;, (2, 0, 1))</div><div class="line">    transformer.set_mean(&apos;data&apos;, mean)</div><div class="line">    transformer.set_raw_scale(&apos;data&apos;, 255)</div><div class="line">    transformer.set_channel_swap(&apos;data&apos;, (2, 1, 0))</div><div class="line"></div><div class="line">    # Load images and predict</div><div class="line">    count = 0;</div><div class="line">    right = 0;</div><div class="line">    for i in range(len(files) / n_views):</div><div class="line">        images = []</div><div class="line">        for j in range(i*n_views, (i+1)*n_views):</div><div class="line">            img = caffe.io.load_image(os.path.join(sys.argv[1], files[j]))</div><div class="line">            images.append(img)</div><div class="line"></div><div class="line">        # Extract label from file name</div><div class="line">        pos = re.search(&quot;\d&quot;, files[j])</div><div class="line">        name = files[j][:pos.start()-1]</div><div class="line">        pred_label = predict(images, net, transformer)</div><div class="line">        pred_name = label_name[int(pred_label)]</div><div class="line">        print(&quot;label: &quot; + name + &quot;, &quot; + &quot;prediction: &quot; + pred_name)</div><div class="line">        count += 1</div><div class="line">        if name == pred_name:</div><div class="line">            right += 1</div><div class="line"></div><div class="line">    print(&quot;Accuracy: &quot; + str(right / float(count)))</div></pre></td></tr></table></figure></p>
<p>The output accuracy is about 78.3%, which is higher than one image classification output.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Great, this simple network does what we’ve expected, although the result is much more inferior to the result achieved in the paper. But this isn’t a surprise because it is image loss rather than model loss that is minimized during training. This also explains the high training error because some views are quite different from others so this adds a lot of noise in our data.</p>
<p>I’ll implement the full mvcnn with view-pooling in the next post, and see if it works better. Stay tuned.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Su H, Maji S, Kalogerakis E, et al. Multi-view convolutional neural networks for 3d shape recognition[C]//Proceedings of the IEEE International Conference on Computer Vision. 2015: 945-953.</p>
<p><a href="http://seiya-kumada.blogspot.jp/2015/10/3d-object-recognition-by-caffe.html" target="_blank" rel="external">http://seiya-kumada.blogspot.jp/2015/10/3d-object-recognition-by-caffe.html</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Computer-Graphics/" rel="tag"># Computer Graphics</a>
          
            <a href="/tags/Computer-Vision/" rel="tag"># Computer Vision</a>
          
            <a href="/tags/Deep-Learning/" rel="tag"># Deep Learning</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/12/15/Uprigt-Summary/" rel="next" title="Upright Orientation Detection Methods">
                <i class="fa fa-chevron-left"></i> Upright Orientation Detection Methods
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/22/RTTI-in-C++/" rel="prev" title="RTTI in C++">
                RTTI in C++ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/me.png"
               alt="unclejimbo (王少东)" />
          <p class="site-author-name" itemprop="name">unclejimbo (王少东)</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/unclejimbo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Friends
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/pipisorry" title="pipi-blog" target="_blank">pipi-blog</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#The-Power-of-Multi-View"><span class="nav-number">2.</span> <span class="nav-text">The Power of Multi-View</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Training-MVCNN-Directly-without-View-Pooling"><span class="nav-number">3.</span> <span class="nav-text">Training MVCNN Directly without View Pooling</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Prerequisites"><span class="nav-number">3.1.</span> <span class="nav-text">Prerequisites</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Preparation"><span class="nav-number">3.2.</span> <span class="nav-text">Data Preparation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Network-Setup"><span class="nav-number">3.3.</span> <span class="nav-text">Network Setup</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Go-Ahead-and-Training"><span class="nav-number">3.4.</span> <span class="nav-text">Go Ahead and Training</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Use-Majority-Vote-to-Classify-a-3D-Model"><span class="nav-number">3.5.</span> <span class="nav-text">Use Majority Vote to Classify a 3D Model</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Conclusion"><span class="nav-number">4.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">5.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">unclejimbo (王少东)</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'unclejimbos';
      var disqus_identifier = '2017/01/05/2017-1-5-Implementing-MVCNN-with-Caffe-Part-I/';

      var disqus_title = "Implementing MVCNN with Caffe, Part I";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  





  
  

  

  

  

  


</body>
</html>
